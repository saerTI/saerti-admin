/* Estilos base para el contenedor de la tabla */
.responsive-table-wrapper {
  width: 100%;
  overflow-x: auto;
  position: relative;
  scrollbar-width: thin;
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
  scroll-behavior: smooth;
}

/* Estilos para scrollbar en Chrome, Edge, Safari */
.responsive-table-wrapper::-webkit-scrollbar {
  height: 8px;
}

.responsive-table-wrapper::-webkit-scrollbar-track {
  background: transparent;
}

.responsive-table-wrapper::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5);
  border-radius: 20px;
}

.dark .responsive-table-wrapper::-webkit-scrollbar-thumb {
  background-color: rgba(75, 85, 99, 0.5);
}

/* Asegurar que la tabla tenga un ancho mínimo para scroll horizontal */
.responsive-table-wrapper table {
  width: 100%;
  min-width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

/* ======================================== */
/* SOLUCIÓN PARA EL HOVER EN MODO DARK */
/* ======================================== */

/* Arreglo general para filas - quitar background por defecto */
tr.table-row-with-hover {
  background-color: transparent !important;
  transition: background-color 0.15s ease-in-out;
}

/* Hover states - Modo claro */
tr.table-row-with-hover:hover,
tr.hover\:bg-gray-50:hover {
  background-color: #f9fafb !important; /* bg-gray-50 */
}

/* Hover states - Modo oscuro - FIX PRINCIPAL */
.dark tr.table-row-with-hover:hover,
.dark tr.hover\:bg-white\/\[0\.05\]:hover,
.dark tr[class*="hover:bg-white"]:hover {
  background-color: rgba(255, 255, 255, 0.05) !important; /* Transparencia sutil */
}

/* ======================================== */
/* SOLUCIÓN CRÍTICA PARA LA COLUMNA STICKY */
/* ======================================== */

/* 1. Reglas generales para columna sticky */
.sticky-first-column {
  position: sticky !important;
  left: 0 !important;
  z-index: 50 !important; /* Z-index muy alto para estar por encima de todo */
  transition: background-color 0.15s ease-in-out;
}

/* 2. Aplicación de fondos específicos por modo */
/* Modo claro - encabezado */
thead th.sticky-first-column {
  background-color: #f9fafb !important; /* Color exacto del encabezado */
  z-index: 100 !important; /* Aún más alto para el encabezado */
}

/* Modo claro - celdas normales */
tbody tr td.sticky-first-column {
  background-color: white !important; 
  box-shadow: 4px 0 6px -2px rgba(0, 0, 0, 0.05) !important;
}

/* Modo oscuro - encabezado */
.dark thead th.sticky-first-column {
  background-color: #374151 !important; /* Color exacto del encabezado en modo oscuro */
  z-index: 100 !important;
}

/* Modo oscuro - celdas normales */
.dark tbody tr td.sticky-first-column {
  background-color: #1f2937 !important; /* dark:bg-gray-800 */
  box-shadow: 4px 0 6px -2px rgba(0, 0, 0, 0.2) !important;
}

/* 3. Manejo específico de hover para columna sticky */
/* Modo claro - hover en sticky column */
tr.table-row-with-hover:hover td.sticky-first-column,
tr.hover\:bg-gray-50:hover td.sticky-first-column {
  background-color: #f9fafb !important; /* hover:bg-gray-50 */
}

/* Modo oscuro - hover en sticky column - FIX CRÍTICO */
.dark tr.table-row-with-hover:hover td.sticky-first-column,
.dark tr.hover\:bg-white\/\[0\.05\]:hover td.sticky-first-column,
.dark tr[class*="hover:bg-white"]:hover td.sticky-first-column {
  background-color: #1f2937 !important; /* Mantener el color base */
  background-image: linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05)) !important; /* Overlay sutil */
}

/* 4. Separador visual */
.sticky-first-column::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.1), transparent);
  z-index: 51;
}

.dark .sticky-first-column::after {
  background: linear-gradient(to right, rgba(255, 255, 255, 0.05), transparent);
}

/* 5. Solución adicional para el problema de superposición */
/* Esto asegura que cada celda tenga un fondo opaco */
tbody tr td:not(.sticky-first-column) {
  position: relative;
  z-index: 10;
}

tbody tr:hover td:not(.sticky-first-column) {
  position: relative;
  z-index: 20;
}

/* 6. Prevención de problemas de alineación */
.responsive-table-wrapper table thead th,
.responsive-table-wrapper table tbody td {
  position: relative;
}

/* ======================================== */
/* REGLAS ADICIONALES PARA SOLUCIONAR CONFLICTOS */
/* ======================================== */

/* Override específico para clases problemáticas de Tailwind en modo oscuro */
.dark tbody tr:hover {
  background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Asegurar que los avatares y contenido no se vean afectados */
tbody tr td * {
  position: relative;
  z-index: 30;
}

/* Específico para badges y elementos inline */
tbody tr td .badge,
tbody tr td .inline-flex,
tbody tr td .flex {
  position: relative;
  z-index: 35;
}

@media (max-width: 1024px) {
  .responsive-table-wrapper {
    max-width: calc(100vw - 32px); /* Ajuste para padding y márgenes */
  }
}